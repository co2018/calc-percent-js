<!doctype html>
<head>
	<meta name="author" content="C.Olive">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Percentage calculation</title>
	<script type="text/javascript">
		function calcBefore()
		{
			var before = document.getElementById("before");
			var percent = Number(document.getElementById("percent").value);
			var after = Number(document.getElementById("after").value);
			before.value = after / (1 + (percent / 100));
		}
		function calcPercent()
		{
			var before = Number(document.getElementById("before").value);
			if (before == 0) {
				alert("Before value can't be equal to 0 !");
			}
			var percent = document.getElementById("percent");
			var after = Number(document.getElementById("after").value);
			percent.value = ((after - before) / before) * 100;
		}
		function calcAfter()
		{
			var before = Number(document.getElementById("before").value);
			var percent = Number(document.getElementById("percent").value);
			var after = document.getElementById("after");
			after.value = before * (1 + (percent / 100));
		}
	</script>
</head>

<body>

	<form name="CalcPercentForm">
		<i>(use decimal point e.g. "3.5")</i><br>
		"Before" amount :<br>
		<input type="text" name="before" id="before" pattern="^[-+]?([0-9]+(\.[0-9]*)?|\.[0-9]+)$" value="0">
		<input type="button" onclick="calcBefore()" value="Calculate"><br>
		Percentage % :<br>
		<input type="text" name="percent" id="percent" pattern="^[-+]?([0-9]+(\.[0-9]*)?|\.[0-9]+)$" value="0">
		<input type="button" onclick="calcPercent()" value="Calculate"><br>
		"After" amount :<br>
		<input type="text" name="after" id="after" pattern="^[-+]?([0-9]+(\.[0-9]*)?|\.[0-9]+)$" value="0">
		<input type="button" onclick="calcAfter()" value="Calculate"><br>
	</form>

</body>
</html>
